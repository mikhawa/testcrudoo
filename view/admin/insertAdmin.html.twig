{% extends "template1.html.twig" %}

{% block title %}{{ parent() }} | Insertion d'un nouvel article{% endblock %}

{% block menuhaut %}
    {% include "admin/menuHautAdmin.html.twig" %}
{% endblock %}

{% block milieu %}
    <!-- Page Content -->
    <main role="main" class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h1 class="mt-5">Insertion d'un nouvel article</h1>
                <p class="lead">Veuillez remplir tous les champs</p>
            </div>
            <div class="col-lg-10 text-left">

                <form method='POST' name='monForm' action=''>
                    <div class="form-group">
                        <label for="exampleFormControlInput1">Titre</label>
                        <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="ici votre titre" required name='jillianarticletitre'>
                    </div>
                    <div class="form-group">
                        <label for="exampleFormControlTextarea1">Texte de l'article</label>
                        <textarea class="form-control" id="exampleFormControlTextarea1" rows="10" cols='50' name='jillianarticletxt' required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="exampleFormControldate">Date de publication</label>
                        <input name='jillianarticletemps' type='datetime' required>
                    </div>

                    {# on fait une boucle tant qu'on a des catégories #}
                    {% for cat in categ %} 

                        <div class="form-check">

                            <input name='idjilliancateg[]' class="form-check-input" type="checkbox" value="{{ cat.idjilliancateg }}" id="defaultCheck1">

                            <label class="form-check-label" for="defaultCheck1">
                                {{ cat.jilliancategnom }}
                            </label>
                        </div>
                        {# si la boucle est vide, le else entre for et endfor permet l'affichage d'un message ou autre #}
                    {% else %}
                        <h3>Pas de Catégories!</h3>
                    {% endfor %}
                    <br>
                    <button type="submit" class="btn btn-primary">Envoyer</button>
                </form>
{# bar de débugage de Kint #}                    
{{ d(categ) }}
            </div>
        </div>
    </main>

{% endblock %}

{% block bas %}
    {% include "footer.html.twig" %}
{% endblock %}